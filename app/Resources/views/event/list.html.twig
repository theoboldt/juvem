{% extends 'base.html.twig' %}

{% block title %}Veranstaltungen verwalten{% endblock %}

{% block body %}
    {%  include 'base-page-header.html.twig' with {'title': 'Veranstaltung', 'subtitle': 'verwalten'} %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div id="event-list-toolbar">
                    <a class="btn btn-primary" href="{{ path('event_new') }}">{{ 'plus'|glyph }} Neu</a>
                </div>
                <table id="eventListTable" class="table table-striped" data-id-field="did"
                       data-toggle="table" data-cache="false" data-pagination="true"
                       data-side-pagination="client" data-show-refresh="true" data-show-columns="true"
                       data-search-align="right" data-toolbar="#event-list-toolbar" data-striped="true"
                       data-show-filter="true"  data-search="true" data-url="list.json">
                    <thead>
                        <tr>
                            <th data-field="eid" data-sortable="true" data-visible="false">#</th>
                            <th data-field="title" data-sortable="true"  data-order="asc">Titel</th>
                            <th data-field="description" data-sortable="true">Beschreibung</th>
                            <th data-field="start_date" data-sortable="true">Beginn</th>
                            <th data-field="end_date" data-sortable="true">Ende</th>
                            <th data-field="status" data-sortable="false" data-width="50">Status</th>
                        </tr>
                    </thead>
                </table>

            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
<script type='text/javascript'>
    $(function () {
        $('#eventListTable').on('click-row.bs.table', function (e, row, $element) {
            location.href = row.eid;
        });
    });
</script>
{% endblock %}
